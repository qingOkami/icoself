!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.initNECaptcha=e():t.initNECaptcha=e()}(this,function(){return function(t){function e(o){if(n[o])return n[o].exports;var r=n[o]={exports:{},id:o,loaded:!1};return t[o].call(r.exports,r,r.exports,e),r.loaded=!0,r.exports}var n={};return e.m=t,e.c=n,e.p="/",e(0)}([function(t,e,n){n(4);var o=n(5),r=n(3),i=n(2),c=n(1),a=!1,u="c.dun.163yun.com",f={},s=window.location.protocol.replace(":",""),l=function(t,e,n){function l(e){var n=t,o=n.captchaId,i=c({protocol:s,host:m,path:"/api/v2/getconf"});r(i,{id:o},e)}function p(e){var n=t.apiServer;return null==n&&(t.apiServer=e.apiServer),t.theme=e.theme,t.__serverConfig__=e,t}function d(e){for(var r=t.__serverConfig__.resources,a=v(r),u=[],l=0,p=a.length;l<p;l++)u.push(function(t){var n=a[t];return function(t){var r=c({protocol:s,host:e,path:n});o(r,{charset:"UTF-8"},function(e){t(e),e||(f[n]=!0)})}}(l));return u.length?void i(u,function(o){if(o){var r=y.shift();return r&&d(r),void(!r&&n(o))}t.staticServer=e,h()}):void h()}function h(){var n=t,o=n.theme,r=window["NECaptcha_theme_"+o],i=window.NECaptcha;t.__theme__=r,e(new i(t))}function v(t){for(var e=[],n=0,o=t.length;n<o;n++){var r=t[n];f[r]||e.push(r)}return e}e=e||function(){},n=n||function(t){console&&console.error('[NECaptcha] initNECaptcha(config, onload, onerror) has thrown an error. If needed, handle it yourself in callback "onerror".\n',t)},t=Object.assign({},t);var m="string"==typeof t.apiServer?t.apiServer:u,y=[];s=t.protocol||s,l(function(e,o){if(e||o.error)return e=e||new Error(o.error+": "+o.msg),void n(e);var r=o.data;a&&(r=t.__serverConfig__||r),y=null==t.staticServer?r.staticServers.slice(0):[t.staticServer],t=p(r),d(y.shift())})};t.exports=l},function(t,e){t.exports=function(t){var e=t.protocol,n=void 0===e?"":e,o=t.host,r=void 0===o?"":o,i=t.port,c=void 0===i?"":i,a=t.path,u=void 0===a?"":a,f=t.search,s=void 0===f?"":f,l=t.hash,p=void 0===l?"":l;if(n&&(n=n.replace(/:?\/{0,2}$/,"://")),r&&(r=r.replace(/\//g,"")),!r&&(n=""),c){if(!r)throw Error('"host" is required, if "port" was provided');c=":"+c}return u&&(u=u.replace(/^\/*/,"/")),s&&(s=s.replace(/^\??/,"?")),p&&(p=p.replace(/^#?/,"#")),n+r+c+u+s+p}},function(t,e){function n(t){this.id=++r,this.done=!1,this.canceled=!1,this.error=null,this.timeout=6e3,this.fn=t}function o(t,e){if(t.length){for(var o=[],r=function(){for(var t=!0,e=0,n=o.length;e<n&&(t=t&&o[e].done,t);e++);return t},i=!1,c=[],a=0,u=t.length;a<u;a++){var f=new n(t[a]);o.push(f)}for(a=0,u=o.length;a<u;a++)f=o[a],function(t){f.run(function(n,o){if(!i){if(n)return i=!0,void e(n,o);c[t]=o,r()&&e(null,c)}})}(a)}}var r=0;n.prototype.run=function(t){var e=this,n=function(n,o){if(!e.canceled){if(n)return e.done=!1,e.error=n,void t(n,o);e.done=!0,t(null,o)}};this.timer=window.setTimeout(function(){n(new Error("[task: "+e.id+"] executed timeout"))},this.timeout),this.fn(function(t,o){e._clearTimer(),n(t,o)})},n.prototype.cancel=function(){this._clearTimer(),this.canceled=!0},n.prototype._clearTimer=function(){this.timer&&(clearTimeout(this.timer),this.timer=null)},t.exports=o},function(t,e){function n(){}function o(t,e,o,c){function a(){s.parentNode&&s.parentNode.removeChild(s),window[h]=n,l&&clearTimeout(l)}function u(){window[h]&&a()}function f(t){var e=[];for(var n in t)t.hasOwnProperty(n)&&e.push(y(n)+"="+y(t[n]));return e.join("&")}"object"===("undefined"==typeof o?"undefined":r(o))&&(c=o,o=null),"function"==typeof e&&(o=e,e=null),c||(c={});var s,l,p=Math.random().toString(36).slice(2,9),d=c.prefix||"__JSONP",h=c.name||d+("_"+p)+("_"+i++),v=c.param||"callback",m=c.timeout||6e3,y=window.encodeURIComponent,w=document.getElementsByTagName("script")[0]||document.head;return m&&(l=setTimeout(function(){a(),o&&o(new Error("Timeout"))},m)),window[h]=function(t){a(),o&&o(null,t)},e&&(t=t.split("?")[0]),t+=(~t.indexOf("?")?"&":"?")+f(e)+"&"+v+"="+y(h),t=t.replace("?&","?"),s=document.createElement("script"),s.type="text/javascript",s.src=t,w.parentNode.insertBefore(s,w),u}var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i=0;t.exports=o},function(t,e){"function"!=typeof Object.assign&&(Object.assign=function(t){if(null==t)throw new TypeError("Cannot convert undefined or null to object");t=Object(t);for(var e=1;e<arguments.length;e++){var n=arguments[e];if(null!=n)for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t})},function(t,e){function n(t,e){for(var n in e)t.setAttribute(n,e[n])}function o(t,e){t.onload=function(){this.onerror=this.onload=null,e(null,t)},t.onerror=function(){this.onerror=this.onload=null,e(new Error("Failed to load "+this.src),t)}}function r(t,e){t.onreadystatechange=function(){"complete"!=this.readyState&&"loaded"!=this.readyState||(this.onreadystatechange=null,e(null,t))}}t.exports=function(t,e,i){var c=document.head||document.getElementsByTagName("head")[0],a=document.createElement("script");"function"==typeof e&&(i=e,e={}),e=e||{},i=i||function(){},a.type=e.type||"text/javascript",a.charset=e.charset||"utf8",a.async=!("async"in e)||!!e.async,a.src=t,e.attrs&&n(a,e.attrs),e.text&&(a.text=""+e.text);var u="onload"in a?o:r;u(a,i),a.onload||o(a,i),c.appendChild(a)}}])});